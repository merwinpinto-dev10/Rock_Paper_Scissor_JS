<!DOCTYPE html>
<html>

<head>
  <title>Rock Paper Scissors</title>
</head>

<link rel="stylesheet" href="./R-P-S.css">

<body>
  <p class="title">Rock Paper Scissors Game</p>

  <button onclick="playGame('rock')"  class="move-butt">
    <img src="./rock-emoji.png" class="move-icon">
  </button>

  <button onclick="playGame('paper')" class="move-butt">
    <img src="./paper-emoji.png" class="move-icon">
  </button>

  <button onclick="playGame('scissors')" class="move-butt">
    <img src="./scissors-emoji.png" class="move-icon">
  </button>

  <p class="result"></p>
  <P class="moves"></P>
  <p class="score"> Wins: 0, Losses: 0, Ties: 0 </p>

  <button onclick="ResetScore()" class="reset-butt">Reset Score</button>

  <script>

    var score = JSON.parse(localStorage.getItem('score')) || {
      wins: 0,
      losses: 0,
      draws: 0
    };

    function ResetScore() {
      score = {
        wins: 0,
        losses: 0,
        draws: 0
      };
      localStorage.removeItem('.score');
      document.querySelector('.score').innerHTML = 'Wins: 0, Losses: 0, Ties: 0';
      document.querySelector('.moves').innerHTML = '';
      document.querySelector('.result').innerHTML = 'Score reset';
      //alert('Score has been Reset');
    }

    function playGame(playerMove) {

      var RN = Math.random();
      var computerMove = '';
      if (RN < 1 / 3) {
        computerMove = 'rock';
      } else if (RN < 2 / 3) {
        computerMove = 'paper';
      } else {
        computerMove = 'scissors';
      }


      var result = '';
      if (playerMove === computerMove) {
        result = 'It is a Tie.';
        score.draws++;
      } else if (
        (playerMove === 'rock' && computerMove === 'scissors') ||
        (playerMove === 'paper' && computerMove === 'rock') ||
        (playerMove === 'scissors' && computerMove === 'paper')
      ) {
        result = 'You Win.';
        score.wins++;
      } else {
        result = 'You Lose.';
        score.losses++;
      }

      localStorage.setItem('score', JSON.stringify(score));  //stores the score

      document.querySelector('.result').innerHTML = `${result}`;

      document.querySelector('.moves').innerHTML = `You <img src="./${playerMove}-emoji.png" class="move-icon"> <img src="./${computerMove}-emoji.png" class="move-icon"> Computer`;

      document.querySelector('.score').innerHTML = `Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.draws}`;


      /* alert(`You picked ${playerMove}. The Computer picked ${computerMove}. ${result}
 Wins: ${score.wins} | Losses: ${score.losses} | Draws: ${score.draws}`);*/
    }

  </script>
</body>

</html>